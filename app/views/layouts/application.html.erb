<!DOCTYPE html>
<html>
  <head>
    <title>GrowthNote</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>
    <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>

    <style>
      body {
        background-color: #fcfcfc;
        margin: 0;
        padding: 0;
        font-family: 'Helvetica Neue', Arial, sans-serif;
        color: #1a1a1a;
      }
      
      /* Âç∞Âà∑ÊôÇ„Å´„Éò„ÉÉ„ÉÄ„Éº„Å®„Éï„É©„ÉÉ„Ç∑„É•„É°„ÉÉ„Çª„Éº„Ç∏„ÇíÈö†„Åô */
      @media print {
        nav, .flash-message {
          display: none !important;
        }
      }
    </style>
  </head>

  <body>
    <%# --- „Éò„ÉÉ„ÉÄ„ÉºÔºà„Éä„Éì„Éê„ÉºÔºâ --- %>
    <nav style="display: flex; justify-content: space-between; align-items: center; padding: 20px 40px; background-color: #ffffff; border-bottom: 1px solid #eee; letter-spacing: 0.1em;">
      
      <%# „É≠„Ç¥ÈÉ®ÂàÜ %>
      <div style="font-size: 14px; letter-spacing: 0.2em; color: #1a1a1a; font-weight: 300;">
        <%= link_to "GROWTH NOTE", root_path, style: "text-decoration: none; color: inherit;" %>
      </div>

      <div style="display: flex; align-items: center; gap: 30px;">
        <% if logged_in? %>
          <div style="display: flex; align-items: center; gap: 20px;">
            <% if current_user.teacher? %>
              <%= link_to "NEW POST", new_feedback_path, style: "text-decoration: none; color: #1a1a1a; border: 1px solid #1a1a1a; padding: 6px 15px; font-size: 10px;" %>
              <%= link_to "LIST", feedbacks_path, style: "text-decoration: none; font-size: 9px; color: #999; border: 1px solid #eee; padding: 4px 8px;" %>
            <% else %>
              <%= link_to "MY PAGE", mypage_path, style: "text-decoration: none; color: #1a1a1a; font-size: 11px; border-bottom: 1px solid #1a1a1a;" %>
            <% end %>
          </div>

          <div style="display: flex; align-items: center; gap: 15px; margin-left: 20px; border-left: 1px solid #eee; padding-left: 20px;">
            <%# ÂêçÂâç„Çí„ÇØ„É™„ÉÉ„ÇØ„Åô„Çã„Å®Ëá™ÂàÜ„ÅÆ„Éó„É≠„Éï„Ç£„Éº„É´Ë©≥Á¥∞(show)„Å∏ %>
            <%= link_to user_path(current_user), style: "text-decoration: none; font-size: 10px; color: #1a1a1a; letter-spacing: 0.1em;" do %>
              üë§ <%= current_user.name.upcase %>
            <% end %>

            <%# Á∑®ÈõÜ„Éú„Çø„É≥ %>
            <%= link_to edit_user_path(current_user), style: "text-decoration: none; font-size: 9px; color: #999; border: 1px solid #eee; padding: 4px 8px;" do %>
              PROFILE EDIT
            <% end %>

            <%= button_to "LOGOUT", logout_path, 
                method: :delete, 
                form: { data: { turbo: false }, style: "display: inline;" }, 
                style: "background: none; border: 1px solid #eee; color: #999; font-size: 9px; padding: 4px 8px; cursor: pointer; font-family: inherit;" %>
          </div>
        <% else %>
          <%= link_to "LOGIN", login_path, style: "text-decoration: none; color: #1a1a1a; font-size: 11px; letter-spacing: 0.1em;" %>
        <% end %>
      </div>
    </nav>

    <%# --- Flash„É°„ÉÉ„Çª„Éº„Ç∏ --- %>
    <div class="flash-message" style="max-width: 600px; margin: 20px auto; text-align: center;">
      <% flash.each do |message_type, message| %>
        <div style="font-size: 12px; color: #666; padding: 10px; border: 1px solid #eee; background: #fff; letter-spacing: 0.05em;">
          <%= message %>
        </div>
      <% end %>
    </div>

    <%= yield %>
  </body>
</html>
